<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Scrapyard Welder â€“ Mini Game Online ðŸ”¥</title>
  <meta name="description" content="Guess the perfect welding temperature and don't burn the scrap!"/>
  
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #0f2027, #1a2f38, #2c1a0f);
      color: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px;
      box-sizing: border-box;
    }
    .container {
      background: rgba(0,0,0,0.7);
      border-radius: 16px;
      padding: 2rem;
      max-width: 420px;
      width: 100%;
      box-shadow: 0 10px 40px rgba(255,140,0,0.3);
      border: 1px solid #555;
      text-align: center;
    }
    h1 {
      margin: 0 0 1rem;
      font-size: 2.4rem;
      color: #ff8800;
      text-shadow: 0 0 12px #ff6600aa;
    }
    .opis {
      margin: 0 0 1.5rem;
      line-height: 1.45;
      font-size: 1.05rem;
      opacity: 0.9;
    }
    #guess {
      width: 160px;
      padding: 14px;
      font-size: 1.8rem;
      text-align: center;
      background: #111;
      color: #ffdd99;
      border: 3px solid #ff9900;
      border-radius: 12px;
      margin: 1rem 0;
    }
    .buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 1rem 0;
    }
    button {
      padding: 14px 28px;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }
    #weldBtn {
      background: #ff8800;
      color: #000;
    }
    #weldBtn:hover { background: #ffaa00; transform: translateY(-2px); }
    #newBtn {
      background: #444;
      color: #ddd;
    }
    #newBtn:hover { background: #555; }
    #status {
      font-size: 1.4rem;
      font-weight: bold;
      min-height: 2.4rem;
      margin: 1rem 0;
      line-height: 1.3;
    }
    .green { color: #0f8; text-shadow: 0 0 10px #0f8; }
    .red   { color: #f44; text-shadow: 0 0 8px #f44; }
    #attempts {
      font-size: 1.1rem;
      margin: 0.5rem 0 1rem;
      opacity: 0.9;
    }
    #sparks {
      width: 100%;
      height: 90px;
      border-radius: 10px;
      background: #0003;
      border: 1px solid #555;
      margin-top: 1rem;
    }
    footer {
      margin-top: 1.5rem;
      font-size: 0.9rem;
      opacity: 0.6;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>ðŸ”¥ Scrapyard Welder ðŸ”¥</h1>
  
  <p class="opis">
    Secret temperature: 1000â€“2000 Â°C<br>
    Too low â†’ weak weld<br>
    Too high â†’ melted junk<br>
    Hit it perfect!
  </p>

  <input type="number" id="guess" min="1000" max="2000" placeholder="Â°C" autocomplete="off">

  <div class="buttons">
    <button id="weldBtn">WELD! âš¡</button>
    <button id="newBtn">New Game</button>
  </div>

  <div id="attempts">Attempts left: <strong id="left">10</strong></div>
  <div id="status"></div>

  <canvas id="sparks"></canvas>

  <footer>Scrapyard vibes â€¢ 2026</footer>
</div>

<script>
const status = document.getElementById('status');
const guessInput = document.getElementById('guess');
const leftEl = document.getElementById('left');
const canvas = document.getElementById('sparks');
const ctx = canvas.getContext('2d');

let targetTemp = 0;
let attempts = 10;
let bestAttempts = localStorage.getItem('scrapWelderBest') || 11;

function newGame() {
  targetTemp = Math.floor(Math.random() * 1001) + 1000;
  attempts = 10;
  leftEl.textContent = attempts;
  status.textContent = bestAttempts < 11 ? `Best: ${bestAttempts} attempts` : '';
  status.className = '';
  guessInput.value = '';
  guessInput.disabled = false;
  guessInput.focus();
  ctx.clearRect(0, 0, canvas.width, canvas.height);
}

function drawSparks(color = '#ff8800', count = 20) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let i = 0; i < count; i++) {
    const x = Math.random() * canvas.width;
    const y = Math.random() * canvas.height;
    const r = Math.random() * 5 + 2;
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(x, y, r, 0, Math.PI * 2);
    ctx.fill();
  }
}

function handleGuess() {
  const val = Number(guessInput.value.trim());
  if (!val || val < 1000 || val > 2000) {
    status.textContent = 'Enter 1000â€“2000 Â°C';
    status.className = 'red';
    return;
  }

  attempts--;
  leftEl.textContent = attempts;

  const diff = Math.abs(val - targetTemp);

  if (diff === 0) {
    status.innerHTML = `PERFECT WELD!<br>${val} Â°C ðŸŽ‰ðŸ”¥`;
    status.className = 'green';
    drawSparks('#0f8', 35);
    guessInput.disabled = true;

    const score = attempts + 1;
    if (score < bestAttempts || bestAttempts == 11) {
      bestAttempts = score;
      localStorage.setItem('scrapWelderBest', bestAttempts);
      status.innerHTML += `<br>New best: ${bestAttempts} attempts!`;
    }
    return;
  }

  if (diff <= 20) {
    status.textContent = diff <= 8 ? 'Super close!' : 'Getting warmerâ€¦';
    status.className = 'green';
    drawSparks('#0f8', 15);
  } else if (val < targetTemp) {
    status.textContent = 'TOO COLD â€“ more heat!';
    status.className = 'red';
    drawSparks('#ff8800', 12);
  } else {
    status.textContent = 'TOO HOT â€“ burning junk!';
    status.className = 'red';
    drawSparks('#f44', 18);
  }

  if (attempts <= 0) {
    status.innerHTML = `Out of attempts.<br>Target was ${targetTemp} Â°C ðŸ˜¤`;
    guessInput.disabled = true;
  }

  guessInput.value = '';
  guessInput.focus();
}

// Events
document.getElementById('weldBtn').onclick = handleGuess;
document.getElementById('newBtn').onclick = newGame;

guessInput.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    e.preventDefault();
    handleGuess();
  }
});

// Start
newGame();
</script>
</body>
</html>